Feel Tuning
==============================

写真から自分好みのプレイリストが作成できる音楽推薦アプリです。近年、写真に合った音楽の推薦が見られますが、推薦される曲の選択肢が少なく、パーソナライズできたらと思い開発しました。写真を思い出として振り返る時、旅行先で綺麗な景色の写真を撮った時、あなたが写真に合うと感じる曲からプレイリストを自動作成し、写真と共に保存できます。なお、このアプリは6/9～6/20に行われた「Open Hack U Tokyo」の成果物となります。

## 概要
この音楽推薦アプリでは、写真とスワイプによる好み探索を組み合わせた推薦システムを実装しました。まず、ユーザーが写真を撮る/選択すると、初期推薦として写真の類似度から楽曲が3曲推薦されます。次に、ユーザーが楽曲をスワイプしている間に、スワイプ結果を取得しながら、よりユーザーの好みの音楽推薦を行います。最後に、一定数のLIKEが蓄積されると、LIKEした音楽とその類似音楽から写真に紐づくユーザー好みのプレイリストを自動作成します。

### 推薦アルゴリズムの実装
タグ間の類似度をベースにした推薦を採用しました（最もシンプルでエラーも少ない方法であるため）。  
※テスト段階では768次元の楽曲データでk-meansクラスタリングを試したが、最適なクラスター数（k）を見つけるのが困難だった（kの数ごとに全クラスターの曲に対してラベル付けするのは現実的に不可能）  
1. **画像からメインの雰囲気タグを抽出**  
   ユーザーが投稿した画像を OpenAI で解析し、最も近い雰囲気タグ（メイン雰囲気）を1つ決定する。
2. **似た雰囲気から初期楽曲を推薦し、Likeを3つ集める**  
   メイン雰囲気に似た楽曲を推薦し、ユーザーのスワイプによってLikeされた3つの雰囲気を確定する（Dislikeされた雰囲気は除外して次候補へ）。
3. **雰囲気に基づき相性の良い楽器を推定し、Likeを2つ集める**  
   Likeされた雰囲気タグから相性の良い楽器を事前に推定し、その楽器を含む曲を推薦、スワイプによってLikeされた楽器を2つ確定する。
4. **好みの雰囲気と楽器に合致する曲をフィルタリング**  
   全楽曲データから、好みの雰囲気・楽器を含む曲を抽出する。
6. **プレイリストを生成して提供**  
   ユーザーがLikeした曲に加えて、抽出された中からランダムに選び、最終的にプレイリストとしてユーザーに提供する。
※今後タグをベースとしつつ音楽特徴量を考慮することで精度を向上させる予定

## デモ

https://github.com/user-attachments/assets/728e9e4c-7a6e-44b3-81c4-e26c25b55ffb

## 使用技術

**フロントサイド**  
- TypeScript
- React Native（Expo）  

**サーバーサイド**  
- Python
- FastAPI
- PostgreSQL
- Docker
- Jamendo API
- OpenAI API
- Wav2vec2
